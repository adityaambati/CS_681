package edu.umb.cs681.hw04;

import static org.junit.jupiter.api.Assertions.*;

import java.util.Collections;
import java.util.Comparator;
import java.util.LinkedList;
import java.util.List;
import java.util.stream.Collector;
import java.util.stream.Collectors;

import org.junit.Assert;
import org.junit.jupiter.api.BeforeAll;
import org.junit.jupiter.api.Test;

import edu.umb.cs681.hw04.Car;

public class PriceCompLambdaTest {
	private static Car car1;
	private static Car car2;
	private static Car car3;
	private static LinkedList<Car> usedCars;
	
	@BeforeAll
	static void setUpBeforeClass() throws Exception {
		usedCars = new LinkedList<>();
		car1 = new Car("BMW", "X2-m", 30000, 2014, 26000.0f);
		car2 = new Car("BMW", "X1", 20000, 2012, 23000.0f);
		car3 = new Car("BMW", "X6", 10000, 2018, 34000.0f);
		usedCars.add(car1);
		usedCars.add(car2);
		usedCars.add(car3);
	}

	@Test
	public void minCarPriceTest() {
		Integer expectedMinPrice = 10000;
		Integer actualMinPrice = usedCars.stream()
				.map((Car car) -> car.getPrice())
				.min( Comparator.comparing((Integer price)-> price))
				.get();
		assertEquals(expectedMinPrice, actualMinPrice);
}