package edu.umb.cs681.nasa;
import java.io.*;
import java.net.*;
import java.util.*;
import java.util.stream.*;
import org.json.*;

public class CallAPI {

  public static void main(String[] args) throws IOException {
    URL url = new URL("https://power.larc.nasa.gov/api/temporal/monthly/point?start=2019&end=2021&latitude=42.37&longitude=71.03&community=ag&parameters=T2M%2CT2M_MIN%2CT2M_MAX%2CT2MDEW%2CPRECTOTCORR%2CRH2M%2CGWETPROF%2CGWETROOT%2CGWETTOP&format=csv&header=true");
    HttpURLConnection conn = (HttpURLConnection) url.openConnection();
    conn.setRequestMethod("GET");
    conn.setRequestProperty("accept", "application/json");
    BufferedReader br = new BufferedReader(new InputStreamReader(conn.getInputStream()));
    String line = null;
    while ((line = br.readLine()) != null) {
      System.out.println(line);
    }
    br.close();
  }
}
